{"ast":null,"code":"import React,{useEffect,useReducer}from\"react\";import RecipeCard from\"./components/RecipeCard.js\";import Recipe from\"./components/Recipe.js\";import Icon from\"./components/Icon.js\";import Input from\"./components/Input.js\";import AddRecipe from\"./components/AddRecipe.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const initialState={recipes:[],recipeId:\"\",searchKeyword:\"\",showUI:\"home-view\"};const reducer=(state,action)=>{switch(action.type){case\"load-recipes\":return{...state,recipes:action.data};case\"show-recipe\":return{...state,recipeId:action.recipeId,showUI:\"recipe-view\"};case\"exit-recipe\":return{...state,recipeId:\"\",showUI:\"home-view\",searchKeyword:\"\"};case\"set-search-keyword\":return{...state,searchKeyword:action.keyword};case\"show-add-recipe\":return{...state,showUI:\"add-recipe-view\"};case\"exit-add-recipe\":return{...state,showUI:\"home-view\",searchKeyword:\"\"};case'add-recipe':return{...state,recipes:[...state.recipes,action.recipe],showUI:'home-view',searchKeyword:''};default:throw new Error();}};const App=()=>{const[state,dispatch]=useReducer(reducer,initialState);const showRecipe=recipeId=>dispatch({type:\"show-recipe\",recipeId});const filterRecipes=keyword=>dispatch({type:\"set-search-keyword\",keyword});useEffect(()=>{fetch(\"/api/recipes\").then(res=>res.json()).then(data=>dispatch({type:\"load-recipes\",data}));},[]);useEffect(()=>{fetch(\"/api/recipe.title/\".concat(state.searchKeyword)).then(res=>res.json()).then(data=>dispatch({type:\"load-recipes\",data:data.recipes}));},[state.searchKeyword]);return/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-meister\",children:[state.showUI===\"recipe-view\"&&/*#__PURE__*/_jsx(Recipe,{recipeId:state.recipeId,onExit:()=>dispatch({type:\"exit-recipe\"}),children:_ref=>{let{title,description,recipeImg,keywords,ingredients,instructions,dishType}=_ref;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"recipe-img\",src:recipeImg,alt:title}),/*#__PURE__*/_jsx(\"h1\",{className:\"recipe-title\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"recipe-desc\",children:description}),/*#__PURE__*/_jsx(Icon,{type:dishType}),/*#__PURE__*/_jsx(\"div\",{className:\"keywords\",children:keywords.map(_ref2=>{let{id,label}=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"keyword\",children:label.toUpperCase()},id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-ingredients\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"INGREDIENTS\"}),/*#__PURE__*/_jsx(\"ul\",{children:ingredients.map(_ref3=>{let{id,label}=_ref3;return/*#__PURE__*/_jsx(\"li\",{children:label},id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-instructions\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"INSTRUCTIONS\"}),/*#__PURE__*/_jsx(\"p\",{children:instructions})]})]});}}),/*#__PURE__*/_jsx(\"h1\",{children:\"Recipe Meister\"}),state.showUI===\"home-view\"&&/*#__PURE__*/_jsxs(\"div\",{id:\"controls\",children:[/*#__PURE__*/_jsx(Input,{label:\"FIND RECIPES\",onInput:evt=>filterRecipes(evt.target.value),value:state.searchKeyword}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-black\",onClick:()=>dispatch({type:\"show-add-recipe\"}),children:\"Add a Recipe\"})]}),state.showUI===\"home-view\"&&/*#__PURE__*/_jsx(\"div\",{id:\"home-view\",children:state.recipes.length>0&&state.recipes.map(data=>/*#__PURE__*/_jsx(RecipeCard,{data:data,onSelected:showRecipe},data.id))}),state.showUI===\"add-recipe-view\"&&/*#__PURE__*/_jsx(AddRecipe,{onAdd:recipe=>{fetch(\"/api/recipes\",{method:\"post\",body:JSON.stringify(recipe)}).then(res=>res.json()).then(_ref4=>{let{recipe}=_ref4;dispatch({type:\"add-recipe\",recipe});});},onExit:()=>dispatch({type:\"exit-add-recipe\"})})]});};export default App;","map":{"version":3,"names":["React","useEffect","useReducer","RecipeCard","Recipe","Icon","Input","AddRecipe","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","initialState","recipes","recipeId","searchKeyword","showUI","reducer","state","action","type","data","keyword","recipe","Error","App","dispatch","showRecipe","filterRecipes","fetch","then","res","json","concat","className","children","onExit","_ref","title","description","recipeImg","keywords","ingredients","instructions","dishType","src","alt","map","_ref2","id","label","toUpperCase","_ref3","onInput","evt","target","value","onClick","length","onSelected","onAdd","method","body","JSON","stringify","_ref4"],"sources":["/Users/sakshigarg/MyData/capstone_proj/FE/src/App.js"],"sourcesContent":["import React, { useEffect, useReducer } from \"react\";\nimport RecipeCard from \"./components/RecipeCard.js\";\nimport Recipe from \"./components/Recipe.js\";\nimport Icon from \"./components/Icon.js\";\nimport Input from \"./components/Input.js\";\nimport AddRecipe from \"./components/AddRecipe.js\";\n\nconst initialState = {\n    recipes: [],\n    recipeId: \"\",\n    searchKeyword: \"\",\n    showUI: \"home-view\"\n};\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case \"load-recipes\":\n            return { ...state, recipes: action.data };\n        \n        case \"show-recipe\":\n            return {\n                ...state,\n                recipeId: action.recipeId,\n                showUI: \"recipe-view\"\n            };\n            \n        case\"exit-recipe\":\n            return{\n                ...state,\n                recipeId: \"\",\n                showUI: \"home-view\",\n                searchKeyword: \"\"\n            };\n        \n        case \"set-search-keyword\":\n            return {\n                ...state,\n                searchKeyword: action.keyword\n            };\n        \n        case \"show-add-recipe\":\n            return {\n                ...state,\n                showUI: \"add-recipe-view\"\n            };\n                    \n        case \"exit-add-recipe\":\n            return {\n                ...state,\n                showUI: \"home-view\",\n                searchKeyword: \"\"\n            };\n\n        case 'add-recipe':\n            return {\n                ...state,\n                recipes: [...state.recipes, action.recipe],\n                showUI: 'home-view',\n                searchKeyword: '',\n            };\n\n        default:\n            throw new Error();\n    }\n};\n\nconst App = () => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const showRecipe = recipeId => dispatch({ type: \"show-recipe\", recipeId });\n    const filterRecipes = keyword =>dispatch({ type: \"set-search-keyword\", keyword });\n\n    useEffect(() => {\n        fetch(\"/api/recipes\")\n        .then(res => res.json())\n        .then(data => dispatch(\n            { type: \"load-recipes\", data }));\n    }, []);\n\n    useEffect(() => {\n        fetch(`/api/recipe.title/${state.searchKeyword}`)\n        .then(res => res.json())\n        .then(data => dispatch(\n            { type: \"load-recipes\", data: data.recipes }));\n    }, [state.searchKeyword]);\n\n  return (\n    <div className=\"recipe-meister\">\n        {state.showUI === \"recipe-view\" && (\n            <Recipe\n                recipeId={state.recipeId}\n                onExit={() => dispatch({ type: \"exit-recipe\" })}\n            >\n            {({\n                title,\n                description,\n                recipeImg,\n                keywords,\n                ingredients,\n                instructions,\n                dishType\n            }) => (\n                <>\n                    <img className=\"recipe-img\" src={recipeImg} alt={title} />\n                    <h1 className=\"recipe-title\">{title}</h1>\n                    <p className=\"recipe-desc\">{description}</p>\n                    <Icon type={dishType} />\n                    <div className=\"keywords\">{\n                        keywords.map(({ id, label }) => (\n                            <div className=\"keyword\" key={id}>\n                                {label.toUpperCase()}\n                            </div>\n                        ))}\n                    </div>\n                    <div className=\"recipe-ingredients\">\n                        <h3>INGREDIENTS</h3>\n                        <ul>\n                            {ingredients.map(({ id, label }) => (\n                                <li key={id}>{label}</li>\n                            ))}\n                        </ul>\n                    </div>\n                    <div className=\"recipe-instructions\">\n                        <h3>INSTRUCTIONS</h3>\n                        <p>{instructions}</p>\n                    </div>\n                </>\n            )}\n        </Recipe>\n    )}\n        <h1>Recipe Meister</h1>\n        {state.showUI === \"home-view\" && (\n            <div id=\"controls\">\n                <Input\n                    label=\"FIND RECIPES\"\n                    onInput={evt => filterRecipes(evt.target.value)}\n                    value={state.searchKeyword}\n                />\n                <button\n                    className=\"btn btn-black\"\n                    onClick={() => dispatch({ type: \"show-add-recipe\" })}\n                >\n                    Add a Recipe\n                </button>\n            </div>\n        )}\n        {state.showUI === \"home-view\" && (\n        <div id=\"home-view\">\n            {state.recipes.length > 0 &&\n                state.recipes.map(data => (\n                    <RecipeCard key={data.id} data={data} onSelected={showRecipe} />\n                ))}\n            </div>\n        )}\n        {state.showUI === \"add-recipe-view\" && (\n            <AddRecipe\n                onAdd={recipe => {\n                    fetch(\"/api/recipes\", {\n                        method: \"post\",\n                        body: JSON.stringify(recipe)\n                    })\n                    .then(res => res.json())\n                    .then(({ recipe }) => {\n                        dispatch({ type: \"add-recipe\", recipe });\n                    });\n                }}\n                onExit={() => dispatch({ type: \"exit-add-recipe\" })}\n            />\n        )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}