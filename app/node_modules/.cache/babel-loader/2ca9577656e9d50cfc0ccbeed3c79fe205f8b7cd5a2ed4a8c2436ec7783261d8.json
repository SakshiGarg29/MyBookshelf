{"ast":null,"code":"import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const BookCard=_ref=>{var _user$interestedIn,_user$interestedIn2;let{data,isFav,user,onRemoveRefresh}=_ref;const{volumeInfo,selfLink}=data;const{title,description,imageLinks,authors}=volumeInfo;const onAdd=book=>{fetch(\"/api/my-books?userid=\"+user.username+\"&bookurl=\"+book,{mode:\"cors\",method:\"POST\"}).then(res=>console.log(res));};const onRemove=book=>{fetch(\"/api/my-books/delete?userid=\"+user.username+\"&bookurl=\"+book,{mode:\"cors\",method:\"POST\"}).then(res=>console.log(res)).then(onRemoveRefresh());};return/*#__PURE__*/_jsxs(\"div\",{className:\"book-card\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"book-img\",src:imageLinks===null||imageLinks===void 0?void 0:imageLinks.thumbnail,alt:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsx(\"h3\",{children:description}),/*#__PURE__*/_jsx(\"div\",{className:\"keyword\",children:authors},authors)]}),(isFav===\"true\"||((_user$interestedIn=user.interestedIn)===null||_user$interestedIn===void 0?void 0:_user$interestedIn.find(item=>item===selfLink)))&&/*#__PURE__*/_jsx(\"button\",{className:\"btn small-btn btn-hover\",onClick:()=>onRemove(selfLink),children:\"Remove\"}),isFav===\"false\"&&!((_user$interestedIn2=user.interestedIn)!==null&&_user$interestedIn2!==void 0&&_user$interestedIn2.find(item=>item===selfLink))&&/*#__PURE__*/_jsx(\"button\",{className:\"btn small-btn btn-hover\",onClick:()=>onAdd(selfLink),children:\"Add to Fav\"})]});};BookCard.defaultProps={data:{},isFav:\"false\"};export default BookCard;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","BookCard","_ref","_user$interestedIn","_user$interestedIn2","data","isFav","user","onRemoveRefresh","volumeInfo","selfLink","title","description","imageLinks","authors","onAdd","book","fetch","username","mode","method","then","res","console","log","onRemove","className","children","src","thumbnail","alt","interestedIn","find","item","onClick","defaultProps"],"sources":["/Users/sakshigarg/MyData/capstone_proj/FE/src/components/BookCard.js"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst BookCard = ({ data, isFav, user, onRemoveRefresh }) => {\n  const { volumeInfo, selfLink } = data;\n  const { title, description, imageLinks, authors } = volumeInfo;\n\n  const onAdd = (book) => {\n    fetch(\"/api/my-books?userid=\" + user.username + \"&bookurl=\" + book, {\n      mode: \"cors\",\n      method: \"POST\",\n    }).then((res) => console.log(res));\n  };\n  const onRemove = (book) => {\n    fetch(\"/api/my-books/delete?userid=\" + user.username + \"&bookurl=\" + book, {\n      mode: \"cors\",\n      method: \"POST\",\n    })\n      .then((res) => console.log(res))\n      .then(onRemoveRefresh());\n  };\n\n  return (\n    <div className=\"book-card\">\n      <img className=\"book-img\" src={imageLinks?.thumbnail} alt={title} />\n      <div className=\"details\">\n        <h2>{title}</h2>\n        <h3>{description}</h3>\n        <div className=\"keyword\" key={authors}>\n          {authors}\n        </div>\n      </div>\n      {(isFav === \"true\" ||\n        user.interestedIn?.find((item) => item === selfLink)) && (\n        <button\n          className=\"btn small-btn btn-hover\"\n          onClick={() => onRemove(selfLink)}\n        >\n          Remove\n        </button>\n      )}\n\n      {isFav === \"false\" &&\n        !user.interestedIn?.find((item) => item === selfLink) && (\n          <button\n            className=\"btn small-btn btn-hover\"\n            onClick={() => onAdd(selfLink)}\n          >\n            Add to Fav\n          </button>\n        )}\n    </div>\n  );\n};\nBookCard.defaultProps = {\n  data: {},\n  isFav: \"false\",\n};\nBookCard.propTypes = {\n  data: PropTypes.object.isRequired,\n  isFav: PropTypes.string.isRequired,\n};\n\nexport default BookCard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG1B,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAA4C,KAAAC,kBAAA,CAAAC,mBAAA,IAA3C,CAAEC,IAAI,CAAEC,KAAK,CAAEC,IAAI,CAAEC,eAAgB,CAAC,CAAAN,IAAA,CACtD,KAAM,CAAEO,UAAU,CAAEC,QAAS,CAAC,CAAGL,IAAI,CACrC,KAAM,CAAEM,KAAK,CAAEC,WAAW,CAAEC,UAAU,CAAEC,OAAQ,CAAC,CAAGL,UAAU,CAE9D,KAAM,CAAAM,KAAK,CAAIC,IAAI,EAAK,CACtBC,KAAK,CAAC,uBAAuB,CAAGV,IAAI,CAACW,QAAQ,CAAG,WAAW,CAAGF,IAAI,CAAE,CAClEG,IAAI,CAAE,MAAM,CACZC,MAAM,CAAE,MACV,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,EAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC,CACpC,CAAC,CACD,KAAM,CAAAG,QAAQ,CAAIT,IAAI,EAAK,CACzBC,KAAK,CAAC,8BAA8B,CAAGV,IAAI,CAACW,QAAQ,CAAG,WAAW,CAAGF,IAAI,CAAE,CACzEG,IAAI,CAAE,MAAM,CACZC,MAAM,CAAE,MACV,CAAC,CAAC,CACCC,IAAI,CAAEC,GAAG,EAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC,CAC/BD,IAAI,CAACb,eAAe,CAAC,CAAC,CAAC,CAC5B,CAAC,CAED,mBACER,KAAA,QAAK0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB7B,IAAA,QAAK4B,SAAS,CAAC,UAAU,CAACE,GAAG,CAAEf,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEgB,SAAU,CAACC,GAAG,CAAEnB,KAAM,CAAE,CAAC,cACpEX,KAAA,QAAK0B,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtB7B,IAAA,OAAA6B,QAAA,CAAKhB,KAAK,CAAK,CAAC,cAChBb,IAAA,OAAA6B,QAAA,CAAKf,WAAW,CAAK,CAAC,cACtBd,IAAA,QAAK4B,SAAS,CAAC,SAAS,CAAAC,QAAA,CACrBb,OAAO,EADoBA,OAEzB,CAAC,EACH,CAAC,CACL,CAACR,KAAK,GAAK,MAAM,IAAAH,kBAAA,CAChBI,IAAI,CAACwB,YAAY,UAAA5B,kBAAA,iBAAjBA,kBAAA,CAAmB6B,IAAI,CAAEC,IAAI,EAAKA,IAAI,GAAKvB,QAAQ,CAAC,iBACpDZ,IAAA,WACE4B,SAAS,CAAC,yBAAyB,CACnCQ,OAAO,CAAEA,CAAA,GAAMT,QAAQ,CAACf,QAAQ,CAAE,CAAAiB,QAAA,CACnC,QAED,CAAQ,CACT,CAEArB,KAAK,GAAK,OAAO,EAChB,GAAAF,mBAAA,CAACG,IAAI,CAACwB,YAAY,UAAA3B,mBAAA,WAAjBA,mBAAA,CAAmB4B,IAAI,CAAEC,IAAI,EAAKA,IAAI,GAAKvB,QAAQ,CAAC,gBACnDZ,IAAA,WACE4B,SAAS,CAAC,yBAAyB,CACnCQ,OAAO,CAAEA,CAAA,GAAMnB,KAAK,CAACL,QAAQ,CAAE,CAAAiB,QAAA,CAChC,YAED,CAAQ,CACT,EACA,CAAC,CAEV,CAAC,CACD1B,QAAQ,CAACkC,YAAY,CAAG,CACtB9B,IAAI,CAAE,CAAC,CAAC,CACRC,KAAK,CAAE,OACT,CAAC,CAMD,cAAe,CAAAL,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}