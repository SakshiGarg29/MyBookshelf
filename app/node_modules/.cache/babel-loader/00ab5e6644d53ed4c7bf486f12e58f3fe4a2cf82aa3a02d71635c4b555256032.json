{"ast":null,"code":"// Login Component\nimport React,{useReducer}from\"react\";import Input from\"./Input\";import Password from\"./Password\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const initialState={username:\"\",password:\"\"};const reducer=(state,action)=>{switch(action.type){case\"set-login-username\":return{...state,username:action.username};case\"set-login-password\":return{...state,password:action.password};default:throw new Error();}};const LoginPage=_ref=>{let{onExit,onError}=_ref;const[state,dispatch]=useReducer(reducer,initialState);const setUsernameValue=username=>dispatch({type:\"set-login-username\",username});const setPasswordValue=password=>dispatch({type:\"set-login-password\",password});const doLogin=()=>{fetch(\"/api/login?userid=\"+state.username+\"&password=\"+state.password,{mode:\"cors\",method:\"POST\",body:JSON.stringify({password:state.password})}).then(res=>res.json()).then(data=>{if(data.length>0){onExit(data[0]);}else{onError();}});};return/*#__PURE__*/_jsxs(\"div\",{id:\"loginform\",children:[/*#__PURE__*/_jsx(Input,{label:\"UserName\",onInput:evt=>setUsernameValue(evt.target.value),value:state.username}),/*#__PURE__*/_jsx(Password,{id:\"pswd\",label:\"Password\",onInput:evt=>setPasswordValue(evt.target.value),value:state.password}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-black\",onClick:()=>doLogin(),children:\"Login\"})]});};export default LoginPage;","map":{"version":3,"names":["React","useReducer","Input","Password","jsx","_jsx","jsxs","_jsxs","initialState","username","password","reducer","state","action","type","Error","LoginPage","_ref","onExit","onError","dispatch","setUsernameValue","setPasswordValue","doLogin","fetch","mode","method","body","JSON","stringify","then","res","json","data","length","id","children","label","onInput","evt","target","value","className","onClick"],"sources":["/Users/sakshigarg/MyData/capstone_proj/FE/src/components/LoginPage.js"],"sourcesContent":["// Login Component\nimport React, { useReducer } from \"react\";\n\nimport Input from \"./Input\";\nimport Password from \"./Password\";\n\nconst initialState = {\n  username: \"\",\n  password: \"\",\n};\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"set-login-username\":\n      return { ...state, username: action.username };\n    case \"set-login-password\":\n      return { ...state, password: action.password };\n    default:\n      throw new Error();\n  }\n};\n\nconst LoginPage = ({ onExit, onError }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const setUsernameValue = (username) =>\n    dispatch({ type: \"set-login-username\", username });\n  const setPasswordValue = (password) =>\n    dispatch({ type: \"set-login-password\", password });\n  const doLogin = () => {\n    fetch(\n      \"/api/login?userid=\" + state.username + \"&password=\" + state.password,\n      {\n        mode: \"cors\",\n        method: \"POST\",\n        body: JSON.stringify({ password: state.password }),\n      }\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.length > 0) {\n          onExit(data[0]);\n        } else {\n          onError();\n        }\n      });\n  };\n  return (\n    <div id=\"loginform\">\n      <Input\n        label=\"UserName\"\n        onInput={(evt) => setUsernameValue(evt.target.value)}\n        value={state.username}\n      />\n\n      <Password\n        id=\"pswd\"\n        label=\"Password\"\n        onInput={(evt) => setPasswordValue(evt.target.value)}\n        value={state.password}\n      />\n\n      <button className=\"btn btn-black\" onClick={() => doLogin()}>\n        Login\n      </button>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CAEzC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,YAAY,CAAG,CACnBC,QAAQ,CAAE,EAAE,CACZC,QAAQ,CAAE,EACZ,CAAC,CACD,KAAM,CAAAC,OAAO,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CACjC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,oBAAoB,CACvB,MAAO,CAAE,GAAGF,KAAK,CAAEH,QAAQ,CAAEI,MAAM,CAACJ,QAAS,CAAC,CAChD,IAAK,oBAAoB,CACvB,MAAO,CAAE,GAAGG,KAAK,CAAEF,QAAQ,CAAEG,MAAM,CAACH,QAAS,CAAC,CAChD,QACE,KAAM,IAAI,CAAAK,KAAK,CAAC,CAAC,CACrB,CACF,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAyB,IAAxB,CAAEC,MAAM,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CACpC,KAAM,CAACL,KAAK,CAAEQ,QAAQ,CAAC,CAAGnB,UAAU,CAACU,OAAO,CAAEH,YAAY,CAAC,CAC3D,KAAM,CAAAa,gBAAgB,CAAIZ,QAAQ,EAChCW,QAAQ,CAAC,CAAEN,IAAI,CAAE,oBAAoB,CAAEL,QAAS,CAAC,CAAC,CACpD,KAAM,CAAAa,gBAAgB,CAAIZ,QAAQ,EAChCU,QAAQ,CAAC,CAAEN,IAAI,CAAE,oBAAoB,CAAEJ,QAAS,CAAC,CAAC,CACpD,KAAM,CAAAa,OAAO,CAAGA,CAAA,GAAM,CACpBC,KAAK,CACH,oBAAoB,CAAGZ,KAAK,CAACH,QAAQ,CAAG,YAAY,CAAGG,KAAK,CAACF,QAAQ,CACrE,CACEe,IAAI,CAAE,MAAM,CACZC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEnB,QAAQ,CAAEE,KAAK,CAACF,QAAS,CAAC,CACnD,CACF,CAAC,CACEoB,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,EAAK,CACd,GAAIA,IAAI,CAACC,MAAM,CAAG,CAAC,CAAE,CACnBhB,MAAM,CAACe,IAAI,CAAC,CAAC,CAAC,CAAC,CACjB,CAAC,IAAM,CACLd,OAAO,CAAC,CAAC,CACX,CACF,CAAC,CAAC,CACN,CAAC,CACD,mBACEZ,KAAA,QAAK4B,EAAE,CAAC,WAAW,CAAAC,QAAA,eACjB/B,IAAA,CAACH,KAAK,EACJmC,KAAK,CAAC,UAAU,CAChBC,OAAO,CAAGC,GAAG,EAAKlB,gBAAgB,CAACkB,GAAG,CAACC,MAAM,CAACC,KAAK,CAAE,CACrDA,KAAK,CAAE7B,KAAK,CAACH,QAAS,CACvB,CAAC,cAEFJ,IAAA,CAACF,QAAQ,EACPgC,EAAE,CAAC,MAAM,CACTE,KAAK,CAAC,UAAU,CAChBC,OAAO,CAAGC,GAAG,EAAKjB,gBAAgB,CAACiB,GAAG,CAACC,MAAM,CAACC,KAAK,CAAE,CACrDA,KAAK,CAAE7B,KAAK,CAACF,QAAS,CACvB,CAAC,cAEFL,IAAA,WAAQqC,SAAS,CAAC,eAAe,CAACC,OAAO,CAAEA,CAAA,GAAMpB,OAAO,CAAC,CAAE,CAAAa,QAAA,CAAC,OAE5D,CAAQ,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}