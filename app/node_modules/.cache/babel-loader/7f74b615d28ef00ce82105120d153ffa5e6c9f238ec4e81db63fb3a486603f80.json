{"ast":null,"code":"import React,{useEffect,useReducer}from\"react\";import BookCard from\"./BookCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const initialState={bookSearchResult:[]};const reducer=(state,action)=>{switch(action.type){case\"searched-books\":return{...state,bookSearchResult:action.data};default:throw new Error();}};const SearchBooks=_ref=>{let{searchText,userdata,onBack}=_ref;const[state,dispatch]=useReducer(reducer,initialState);useEffect(()=>{fetch(\"/.netlify/functions/api/search-books?search=\".concat(searchText),{mode:\"cors\"}).then(res=>res.json()).then(data=>dispatch({type:\"searched-books\",data}));},[searchText]);return/*#__PURE__*/_jsxs(\"div\",{className:\"my-bookshelf\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"backbtn\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn small-btn btn-black\",onClick:()=>onBack(),children:\"Back\"})}),state.bookSearchResult.items&&/*#__PURE__*/_jsx(\"div\",{id:\"home-view\",children:state.bookSearchResult.items.length>0&&state.bookSearchResult.items.map(data=>/*#__PURE__*/_jsx(BookCard,{data:data,isFav:\"false\",user:userdata,onRemoveRefresh:()=>{}},data.id))})]});};export default SearchBooks;","map":{"version":3,"names":["React","useEffect","useReducer","BookCard","jsx","_jsx","jsxs","_jsxs","initialState","bookSearchResult","reducer","state","action","type","data","Error","SearchBooks","_ref","searchText","userdata","onBack","dispatch","fetch","concat","mode","then","res","json","className","children","id","onClick","items","length","map","isFav","user","onRemoveRefresh"],"sources":["/Users/sakshigarg/MyData/capstone_proj/Final/app/src/components/SearchBooks.js"],"sourcesContent":["import React, { useEffect, useReducer } from \"react\";\nimport BookCard from \"./BookCard\";\n\nconst initialState = {\n  bookSearchResult: [],\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"searched-books\":\n      return { ...state, bookSearchResult: action.data };\n\n    default:\n      throw new Error();\n  }\n};\n\nconst SearchBooks = ({ searchText, userdata, onBack }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  useEffect(() => {\n    fetch(`/.netlify/functions/api/search-books?search=${searchText}`, {\n      mode: \"cors\",\n    })\n      .then((res) => res.json())\n      .then((data) => dispatch({ type: \"searched-books\", data }));\n  }, [searchText]);\n\n  return (\n    <div className=\"my-bookshelf\">\n      <div id=\"backbtn\">\n        <button className=\"btn small-btn btn-black\" onClick={() => onBack()}>\n          Back\n        </button>\n      </div>\n      {state.bookSearchResult.items && (\n        <div id=\"home-view\">\n          {state.bookSearchResult.items.length > 0 &&\n            state.bookSearchResult.items.map((data) => (\n              <BookCard\n                key={data.id}\n                data={data}\n                isFav={\"false\"}\n                user={userdata}\n                onRemoveRefresh={() => {}}\n              />\n            ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SearchBooks;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CACpD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,YAAY,CAAG,CACnBC,gBAAgB,CAAE,EACpB,CAAC,CAED,KAAM,CAAAC,OAAO,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CACjC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,gBAAgB,CACnB,MAAO,CAAE,GAAGF,KAAK,CAAEF,gBAAgB,CAAEG,MAAM,CAACE,IAAK,CAAC,CAEpD,QACE,KAAM,IAAI,CAAAC,KAAK,CAAC,CAAC,CACrB,CACF,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAsC,IAArC,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,MAAO,CAAC,CAAAH,IAAA,CACnD,KAAM,CAACN,KAAK,CAAEU,QAAQ,CAAC,CAAGnB,UAAU,CAACQ,OAAO,CAAEF,YAAY,CAAC,CAC3DP,SAAS,CAAC,IAAM,CACdqB,KAAK,gDAAAC,MAAA,CAAgDL,UAAU,EAAI,CACjEM,IAAI,CAAE,MACR,CAAC,CAAC,CACCC,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEX,IAAI,EAAKO,QAAQ,CAAC,CAAER,IAAI,CAAE,gBAAgB,CAAEC,IAAK,CAAC,CAAC,CAAC,CAC/D,CAAC,CAAE,CAACI,UAAU,CAAC,CAAC,CAEhB,mBACEX,KAAA,QAAKqB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BxB,IAAA,QAAKyB,EAAE,CAAC,SAAS,CAAAD,QAAA,cACfxB,IAAA,WAAQuB,SAAS,CAAC,yBAAyB,CAACG,OAAO,CAAEA,CAAA,GAAMX,MAAM,CAAC,CAAE,CAAAS,QAAA,CAAC,MAErE,CAAQ,CAAC,CACN,CAAC,CACLlB,KAAK,CAACF,gBAAgB,CAACuB,KAAK,eAC3B3B,IAAA,QAAKyB,EAAE,CAAC,WAAW,CAAAD,QAAA,CAChBlB,KAAK,CAACF,gBAAgB,CAACuB,KAAK,CAACC,MAAM,CAAG,CAAC,EACtCtB,KAAK,CAACF,gBAAgB,CAACuB,KAAK,CAACE,GAAG,CAAEpB,IAAI,eACpCT,IAAA,CAACF,QAAQ,EAEPW,IAAI,CAAEA,IAAK,CACXqB,KAAK,CAAE,OAAQ,CACfC,IAAI,CAAEjB,QAAS,CACfkB,eAAe,CAAEA,CAAA,GAAM,CAAC,CAAE,EAJrBvB,IAAI,CAACgB,EAKX,CACF,CAAC,CACD,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAd,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}